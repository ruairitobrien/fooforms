<!DOCTYPE html>
<html ng-app="FooForm">
<head lang="en">
<meta charset="UTF-8">
<title><%= appName %></title>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<style>
.white {
    background-color: #fff;
}

.blockInsert {
    background-color: #E5F1FD;
    margin: 5px;
    border: 1px solid #D2E5F7;
    display: block;
}

#appTabs-fields {
    max-width: 100%;
    overflow: hidden;
}

#appHeading {
    display: block;
    border: 1px solid #efefef;
    margin: 0px;
    padding: 5px;
}

#appHeading.selected {
    background: #F1FBFF;
    border: 1px solid #D2E5F7;
}

#appHeading h2 {
    font-size: 16px;
    font-weight: bold;
    line-height: 22px;
    margin: 0px;
    padding: 0px;
    display: inline-block;
}

#appHeading p {
    margin: 0px;
    padding: 0px;
    font-size: 10px;
    font-weight: normal;
    line-height: 14px;

}

#appTitle {
    display: block;
}

.fieldObject {

    cursor: move;
    display: block;
}

div.fieldObject:hover {
    background: #f8efc0;
}

#appLayout, .appLayout {
    display: block;
    padding-bottom: 100px;
}

#appFields, #appEvents {
    padding-bottom: 100px;
}

.appFormObject {
    margin: 0px;
    padding: 5px;
    border-top: 1px solid #fff;
    border-right: 1px solid #eee;
    border-bottom: 1px solid #eee;
    border-left: 1px solid #fff;
    background: #f7f7f7;
    min-height: 84px;
}

.viewFormObject {
    margin: 0px;
    padding: 3px;
    border-top: 1px solid #fff;
    border-right: 1px solid #cecece;
    border-bottom: 1px solid #cecece;
    border-left: 1px solid #fff;
    background: #efefef;
}

.appFormObject.selected {
    background: #F1FBFF;
    border: 1px solid #D2E5F7;
}

/*placeholder for draggies*/
#appFields div.fieldObject, #appEvents div.fieldObject {
    clear: both !important;
    padding: 30px !important;
    border-radius: 0px !important;
    border: 1px solid #EFE3AE;
}

.ui-sortable-placeholder {
    visibility: visible !important;
    border: 2px dashed #D2E5F7 !important;
    display: block;
    background: #fefefe !important;
}

.dragging {
/ / background : #F1FBFF !important;
    border: 1px solid #D2E5F7;

}

.appFormObject:hover {
    border: 1px solid #D2E5F7;
}

/*icons and modal icon select dialog*/

.icons {
    list-style: none;
    height: 400px;
    overflow: scroll;
}

.icons a {
    border: 3px solid #fff;
    display: inline-block;
    padding: 4px;
    margin: 0px;
}

.icons a:hover {
    border: 3px solid #D2E5F7;

}

img.icon {
    max-width: 48px;
    margin: 4px;
}

img.icon-xs {
    max-width: 24px;
}

img.icon-sm {
    max-width: 36px;
}

#saveAppForm {
    display: block;
    background: #FEF6D2;
    border-top: 1px solid #EFE3AE;
    border-bottom: 1px solid #EFE3AE;
    margin-top: 20px;
    padding-right: 20px;
    line-height: 50px;
    height: 50px;
    text-align: right;
}

.repeatBox {
    display: inline-block;
    padding: 0px;
    margin: 0px;
    border: 2px dotted #D2E5F7;
    background: #fff;
    min-height: 90px;
}

.repeatBox:hover {
    border: 2px solid #D2E5F7;
}

#saveApp {

}

label i.fa {
    font-size: 1.4em;
    color: #185aa7;
    margin-left: 5px;
}

.onTop {
    position: absolute !important;
    z-index: 999999 !important;
    float: right;
    top: 2px;
    right: 2px;

}

.underv {
    position: relative !important;
    z-index: 999998 !important;

}

.newForm {
    background: url('/assets/images/appCanvas.png') top left no-repeat;
    border: 2px dashed #D2E5F7;
    min-height: 300px;
}

img.icon {
    max-height: 48px !important;
    display: inline-block;
    vertical-align: middle;
}

.inline {
    display: inline;
}


</style>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
<script>

    var FooForm = angular.module('FooForm', []);
    FooForm.controller('FormCtrl', function ($scope, $http) {
        var appId = '<%- appId %>';
        $http({method: 'GET', url: '/forms/repo/fetch/' + appId}).
                success(function (data, status, headers, config) {
                    $scope.form = data;
                }).
                error(function (data, status, headers, config) {
                    $scope.error = status;
                });
    });

</script>
</head>
<body ng-controller="FormCtrl">

<div id='appLayout' class="container">

    <div class="row">
        <div class='col-sm-{{appField.boxSize}} under viewFormObject'
             ng-repeat="appField in form.fields track by $index"
             ng-show="appField.name"
                >

            <div ng-include='appField.template'></div>
        </div>


    </div>

</div>

</body>
</html>