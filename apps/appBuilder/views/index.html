<% layout('../../../views/layouts/appBuilderLayout.html') -%>

<div class="row" >

    <div class="col-sm-3 pageGroup">
    <div ng-show="draggedItem != null">{{draggedItem.text}}</div>
        <% include ../../../views/includes/appBuilderMenu.html %></div>
    <div class="col-sm-9">

        <div class="pageGroup" id='mainView'>


            <div id='msgCenter' class="hide">
                <div class="alert alert-block alert-info fade in m5">
                    <p>Saving your app, please stand by...</p>
                </div>
            </div>

            <div id="tabs">
                <ul id='appTabs' class="nav nav-tabs">
                    <li class="active"><a href="#tabs-newApp" data-toggle="tab" >Design</a></li>
                    <li><a href="#tabs-settings" data-toggle="tab">Settings</a></li>
                    <li><a href="#tabs-publish" data-toggle="tab">Publish</a></li>
                </ul>
                <div class="tab-content white p5">
                    <div id="tabs-newApp" class="tab-pane active" >
                        <div id='appHeading' ng-click="editField('AppTitle', $event)"><img class='icon'
                                                                                           id='appIconDisplay'
                                                                                           src='/app/dispatch.php?id=95'/>

                            <h2 id='appName'>{{app.name}}</h2>

                            <p id='appDescription'>{{app.description}} </p>
                        </div>
                        <div id='appLayout' class="container">

                            <div id='appFields' class="row"
                                 droppable='app.fields'
                                 ng-update='updateObjects(from, to)'
                                 ng-create='createObject(object, to)'
                                    >
                                <div class='appFormObject col-sm-{{appField.boxSize}}'
                                     ng-repeat="appField in app.fields track by $index"
                                     ng-show="appField.name"
                                     ng-border="showBorders(show)"
                                     ng-click="editField($index, $event)"
                                     ng-class="{ 'selected': $index == nowEditing ,'dragging' : dragging}">
                                    <button ng-click='deleteItem(appField.id)'
                                        class='btn btn-xs pull-right btn-danger'
                                        ng-show="$index == nowEditing">X</button>
                                    <div ng-include='appField.template'></div>
                                </div>
                                <div class="placeholder alert alert-success" ng-show="showPlaceHolder()">Drag a new
                                    Input Field in here to get started
                                </div>

                            </div>



                        </div>


                    </div>


                    <div id="tabs-settings" class="tab-pane">
                        <div class='alert alert-warning'><h4>Settings</h4>
                            <pre class="ng-binding">
     {{app.fields | json}}
 </pre>

                        </div>

                    </div>
                    <div id="tabs-publish" class="tab-pane">
                        <div class='alert alert-warning'><h4>Publish</h4>

                            <p>Choose one or more ways to publish your app.</p>
                        </div>
                        <div class='m10 alert alert-info'>
                            <h5>Add it to one or more clouds</h5>

                            <p>Your app will be displayed in each of the following clouds</p>

                            <div id='cloudList'>

                            </div>
                            <hr>

                            <h5>Add it to a Website or Blog</h5>

                            <p>Copy the following code to your page on your website.</p>
                            <textarea class='large'>
                                <script>function load()
                                ;</script>
                            </textarea>
                        </div>

                    </div>
                </div>
                <div id='saveAppForm'>
                    <button id='saveApp' class='btn btn-success'>Save App</button>
                </div>
            </div>


        </div>

    </div>


</div>





